<div class="card my-4 mx-2 g-0">
  <div class="card-header-info">
    <h5 class="card-title"><%= t(".header.preview") %></h5>
  </div>

  <%= form_with(
        url: podcast_planner_path(@podcast),
        method: :post
      ) do |form| %>
      <div class="card-body">
        <div class="row mb-4">
          <div class="col-lg-6">
            <h3 class="fw-bold"><%= t(".header.publish_time") %></h3>
            <div class="form-floating">
              <%= form.select :publish_time, time_options %>
              <%= form.label :publish_time %>
            </div>
          </div>

          <div class="col-lg-6">
            <h3 class="fw-bold"><%= t(".header.audio_segments") %></h3>
            <div class="form-floating">
              <%= form.number_field :segment_count, {min: 1, max: 10, step: 1, value: 2} %>
              <%= form.label :segment_count %>
            </div>
          </div>
        </div>

        <div class="col-lg">
          <div data-controller="pager" data-pager-range-value="6">
            <div class="mb-2">
              <%= button_tag type: "button", class: "btn btn-primary btn-sm", data: {action: "click->pager#pageBackward", pager_target: "prev"}, disabled: true do %>
                <span class="material-icons">arrow_left</span>
                Month
              <% end %>
              <%= button_tag type: "button", class: "btn btn-primary btn-sm", data: {action: "click->pager#pageForward", pager_target: "next"} do %>
                Month
                <span class="material-icons">arrow_right</span>
              <% end %>
            </div>

            <%= turbo_frame_tag "preview", target: "_top" do %>
              <div class="row">
                <% 24.times do |i| %>
                  <%= render "calendar", form: form, start_date: Date.today.beginning_of_month + i.months, planner: @planner, index: i, range: 6 %>
                <% end %>
              </div>
            <% end %>
          </div>
        </div>
      </div>
      <div class="card-footer">
        <%= form.submit t(".label.submit"), class: "btn btn-primary" %>
      </div>
  <% end %>
</div>
