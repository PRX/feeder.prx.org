<% feed_link = feed.private? ? FeedToken.feed_published_url_with_token(feed) : feed.published_url %>

<div class="col-12 mb-4">
  <div class="form-floating input-group">
    <%= form.text_field :feed_link, value: feed.published_url, disabled: true %>
    <%= form.label :feed_link %>
    <%= link_to(feed_link, class: "input-group-text btn btn-primary", target: :_blank) do %>
      <span class="material-icons">link</span>
    <% end %>
  </div>
</div>

<div class="col-12 mb-4">
  <div class="form-floating  input-group">
    <%= form.text_field :file_name %>
    <%= form.label :file_name %>
    <a tabindex="0" class="input-group-text prx-help" role="button" data-bs-toggle="popover" data-bs-trigger="focus" data-bs-content="<%= t(".help.file_name") %>"><span class="material-icons">help</span></a>
  </div>
</div>

<% unless feed.default? %>
  <%= render "form_custom_fields", feed: feed, form: form %>
<% end %>

<div class="col-12 mb-4">
  <div class="form-floating input-group">
    <%= form.text_field :url %>
    <%= form.label :url %>
    <a tabindex="0" class="input-group-text prx-help" role="button" data-bs-toggle="popover" data-bs-trigger="focus" data-bs-content="<%= t(".help.url") %>"><span class="material-icons">help</span></a>
  </div>
</div>

<div class="col-12 mb-4">
  <div class="form-floating  input-group">
    <%= form.text_field :new_feed_url %>
    <%= form.label :new_feed_url %>
    <a tabindex="0" class="input-group-text prx-help" role="button" data-bs-toggle="popover" data-bs-trigger="focus" data-bs-content="<%= t(".help.new_feed_url") %>"><span class="material-icons">help</span></a>
  </div>
</div>

<div class="col-12 mb-4">
  <div class="form-floating  input-group">
    <%= form.text_field :enclosure_prefix %>
    <%= form.label :enclosure_prefix %>
    <a tabindex="0" class="input-group-text prx-help" role="button" data-bs-toggle="popover" data-bs-trigger="focus" data-bs-content="<%= t(".help.enclosure_prefix") %>"><span class="material-icons">help</span></a>
  </div>
</div>

<div class="col-12 mb-4">
  <div class="form-floating input-group">
    <%= form.number_field :display_episodes_count %>
    <%= form.label :display_episodes_count %>
    <a tabindex="0" class="input-group-text prx-help" role="button" data-bs-toggle="popover" data-bs-trigger="focus" data-bs-content="<%= t(".help.display_episodes_count") %>"><span class="material-icons">help</span></a>
  </div>
</div>

<div class="col-12 mb-4">
  <div class="form-floating input-group">
    <%= form.number_field :display_full_episodes_count %>
    <%= form.label :display_full_episodes_count %>
    <a tabindex="0" class="input-group-text prx-help" role="button" data-bs-toggle="popover" data-bs-trigger="focus" data-bs-content="<%= t(".help.display_full_episodes_count") %>"><span class="material-icons">help</span></a>
  </div>
</div>

<div class="col-12 mb-4">
  <div class="form-floating input-group">
    <%= form.select :episode_offset_seconds, episode_offset_options, include_blank: true %>
    <%= form.label :episode_offset_seconds %>
    <a tabindex="0" class="input-group-text prx-help" role="button" data-bs-toggle="popover" data-bs-trigger="focus" data-bs-content="<%= t(".help.episode_offset_seconds") %>"><span class="material-icons">help</span></a>
  </div>
</div>

<div class="col-12 mb-4">
  <div class="card shadow mb-4">
    <div class="card-header-info d-flex justify-content-between align-items-center">
      <h3 class="card-title"><%= t(".headers.audio_format") %></h3>
      <a tabindex="0" class="prx-btn-help ms-1" role="button" data-bs-toggle="popover" data-bs-trigger="focus" data-bs-content="<%= t(".help.audio_format") %>"><span class="material-icons">help</span></a>
    </div>
    <div class="card-body">  
      <div class="row my-4">
        <div class="col-3">
          <div class="form-floating">
            <%= form.select :audio_format, audio_format_options %>
            <%= form.label :audio_format %>
          </div>
        </div>

        <div class="col-3">
          <div class="form-floating">
            <%= form.select :audio_format, audio_bitrate_options %>
            <%= form.label :audio_format %>
          </div>
        </div>

        <div class="col-3">
          <div class="form-floating">
            <%= form.select :audio_format, audio_channel_options %>
            <%= form.label :audio_format %>
          </div>
        </div>

        <div class="col-3">
          <div class="form-floating">
            <%= form.select :audio_format, audio_sample_options %>
            <%= form.label :audio_format %>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>