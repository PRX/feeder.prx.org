<h1>Episodes</h1>

<%= form_with(
      url: episodes_path_or_podcast_episodes_path(@podcast),
      method: :get,
      class: "row",
      data: {
        controller: "search",
        "turbo-frame": "episodes",
        "turbo-action": "replace"
      }
    ) do |form| %>

    <div class="col-md-4 mb-4">
    <div class="form-floating">
      <%= form.search_text_field :q, params, autofocus: true %>
      <%= form.label :q, "Search" %>
    </div>
  </div>

  <%= form.submit class: "d-none", data: {search_target: "submit"} %>
<% end %>

<%= turbo_frame_tag "episodes", target: "_top" do %>

<div class="row">
  <div class="col">
    <h2>Draft or Scheduled Episodes </h2>
    <% @scheduled_episodes.each do |episode| %>
      <%= render episode %>
    <% end %>

    <%= paginate @scheduled_episodes, param_name: "scheduled_page" %>
  </div>

  <div class="col">
    <h2>Published Episodes</h2>
    <% @published_episodes.each do |episode| %>
      <%= render episode %>
    <% end %>

    <%= paginate @published_episodes, param_name: "published_page" %>
  </div>
</div>

<% end %>
