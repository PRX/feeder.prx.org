<div class="col-12 mb-4">
  <div class="form-floating">
    <div class="form-control d-flex align-items-center">
      <div class="spinner-border text-primary ms-2" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>

      <div class="text-secondary mx-2"><%= content.file_name %></div>

      <% if content.retryable? %>
        <div class="flex-grow-1">
          <%= link_to edit_episode_path(content.episode, uploads_retry_params(form)), class: "btn btn-sm btn-warning" do %>
            <span class="material-icons">restart_alt</span> Retry
          <% end %>
        </div>
      <% else %>
        <small class="text-muted flex-grow-1">(Processing)</small>
      <% end %>

      <% if content.file_size.present? %>
        <small class="text-muted">(<%= number_to_human_size(content.file_size) %>)</small>
      <% end %>

      <%= link_to edit_episode_path(content.episode, uploads_destroy_params(form)), class: "btn" do %>
        <span class="material-icons">delete</span>
      <% end %>
    </div>

    <label>Segment <%= content.position %></label>
  </div>

  <%# just keep polling until the file finishes processing %>
  <%= link_to "", request.fullpath, class: "d-none", data: {controller: "polling"} %>
</div>
